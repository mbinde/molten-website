---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Molten - Professional Glass Inventory Management for iOS">
  <!-- Hero Section -->
  <section class="gradient-orange text-white py-20">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h1 class="text-5xl md:text-6xl font-bold mb-6">
        Everything except the heat
      </h1>
      <p class="text-2xl md:text-3xl mb-8 text-white/90">
        Capture ideas, plan projects, manage materials - all on your iPhone
      </p>
      <p class="text-xl mb-12 text-white/80 max-w-3xl mx-auto">
        Molten is the complete inventory solution for glass artists working with hot glass, torch work, and kiln fusing.
        Track over 1,000 types of glass, manage your inventory with precision, plan shopping trips, and document your
        creative journeyâ€”all from your iPhone or iPad.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="https://apps.apple.com/app/molten"
           class="bg-white text-orange-500 px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-100 transition">
          Download on App Store
        </a>
        <a href="/features"
           class="bg-white/10 backdrop-blur text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-white/20 transition border-2 border-white/30">
          Explore Features
        </a>
      </div>
    </div>
  </section>

  <!-- Screenshots Carousel -->
  <section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-center mb-12">See Molten in Action</h2>

      <!-- Carousel Container -->
      <div class="relative">
        <!-- Carousel Wrapper -->
        <div class="overflow-hidden">
          <div id="moltenCarousel" class="flex transition-transform duration-500 ease-in-out">
            <!-- Slide 1 -->
            <div class="flex-shrink-0 w-full md:w-1/5 px-2 transition-all duration-500">
              <img src="/screenshots/09b-catalog-overview.png" alt="Browse glass catalog" class="rounded-lg shadow-2xl w-full mx-auto" style="max-width: 300px;" />
            </div>
            <!-- Slide 2 -->
            <div class="flex-shrink-0 w-full md:w-1/5 px-2 transition-all duration-500">
              <img src="/screenshots/03-catalog-search.png" alt="Search catalog" class="rounded-lg shadow-2xl w-full mx-auto" style="max-width: 300px;" />
            </div>
            <!-- Slide 3 -->
            <div class="flex-shrink-0 w-full md:w-1/5 px-2 transition-all duration-500">
              <img src="/screenshots/06-shopping-list.png" alt="Shopping lists" class="rounded-lg shadow-2xl w-full mx-auto" style="max-width: 300px;" />
            </div>
            <!-- Slide 4 -->
            <div class="flex-shrink-0 w-full md:w-1/5 px-2 transition-all duration-500">
              <img src="/screenshots/07-purchases.png" alt="Purchase tracking" class="rounded-lg shadow-2xl w-full mx-auto" style="max-width: 300px;" />
            </div>
            <!-- Slide 5 -->
            <div class="flex-shrink-0 w-full md:w-1/5 px-2 transition-all duration-500">
              <img src="/screenshots/11-settings.png" alt="Settings" class="rounded-lg shadow-2xl w-full mx-auto" style="max-width: 300px;" />
            </div>
          </div>
        </div>

        <!-- Navigation Buttons -->
        <button id="moltenCarouselPrev" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white rounded-full p-3 shadow-lg hover:bg-gray-100 transition z-10">
          <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
          </svg>
        </button>
        <button id="moltenCarouselNext" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white rounded-full p-3 shadow-lg hover:bg-gray-100 transition z-10">
          <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </button>

        <!-- Dots Navigation -->
        <div class="flex justify-center mt-8 gap-2">
          <button class="molten-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition" data-slide="0"></button>
          <button class="molten-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition" data-slide="1"></button>
          <button class="molten-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition" data-slide="2"></button>
          <button class="molten-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition" data-slide="3"></button>
          <button class="molten-dot w-3 h-3 rounded-full bg-gray-300 hover:bg-gray-400 transition" data-slide="4"></button>
        </div>
      </div>
    </div>
  </section>

  <script>
  (function() {
      if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', initMoltenCarousel);
      } else {
          initMoltenCarousel();
      }

      function initMoltenCarousel() {
          let currentSlide = 0;
          const carousel = document.getElementById('moltenCarousel');
          if (!carousel) return;

          const prevBtn = document.getElementById('moltenCarouselPrev');
          const nextBtn = document.getElementById('moltenCarouselNext');
          const slides = carousel.querySelectorAll(':scope > div');
          const totalSlides = slides.length;
          const dots = document.querySelectorAll('.molten-dot');

          function getVisibleCount() {
              return window.innerWidth >= 768 ? 5 : 1;
          }

          function getMaxSlide() {
              const visibleCount = getVisibleCount();
              return Math.max(0, totalSlides - visibleCount);
          }

          function updateCarousel() {
              const visibleCount = getVisibleCount();
              const slideWidth = 100 / visibleCount;
              carousel.style.transform = 'translateX(-' + (currentSlide * slideWidth) + '%)';

              dots.forEach((dot, index) => {
                  dot.style.background = index === currentSlide ? '#333' : '#ccc';
              });

              // Apply cascading scale effect on desktop (5 images)
              if (visibleCount === 5) {
                  slides.forEach((slide, index) => {
                      const position = index - currentSlide;

                      // Center image (position 2) = largest
                      if (position === 2) {
                          slide.style.transform = 'scale(1)';
                          slide.style.opacity = '1';
                      }
                      // Adjacent images (positions 1 and 3) = medium
                      else if (position === 1 || position === 3) {
                          slide.style.transform = 'scale(0.85)';
                          slide.style.opacity = '0.8';
                      }
                      // Outer images (positions 0 and 4) = smallest
                      else if (position === 0 || position === 4) {
                          slide.style.transform = 'scale(0.7)';
                          slide.style.opacity = '0.6';
                      }
                      // Images outside visible range
                      else {
                          slide.style.transform = 'scale(0.7)';
                          slide.style.opacity = '0.6';
                      }
                  });
              } else {
                  slides.forEach((slide) => {
                      slide.style.transform = 'scale(1)';
                      slide.style.opacity = '1';
                  });
              }
          }

          function moveCarousel(direction) {
              const maxSlide = getMaxSlide();
              currentSlide += direction;

              if (currentSlide < 0) {
                  currentSlide = maxSlide;
              } else if (currentSlide > maxSlide) {
                  currentSlide = 0;
              }

              updateCarousel();
          }

          function goToSlide(index) {
              const maxSlide = getMaxSlide();
              currentSlide = Math.min(index, maxSlide);
              updateCarousel();
          }

          if (prevBtn) {
              prevBtn.addEventListener('click', function(e) {
                  e.preventDefault();
                  moveCarousel(-1);
              });
          }

          if (nextBtn) {
              nextBtn.addEventListener('click', function(e) {
                  e.preventDefault();
                  moveCarousel(1);
              });
          }

          dots.forEach((dot) => {
              dot.addEventListener('click', function() {
                  const slideIndex = parseInt(this.getAttribute('data-slide'));
                  goToSlide(slideIndex);
              });
          });

          window.addEventListener('resize', function() {
              updateCarousel();
          });

          updateCarousel();

          setInterval(function() {
              moveCarousel(1);
          }, 5000);
      }
  })();
  </script>

  <!-- Features Overview -->
  <section class="py-20 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-4xl font-bold text-center mb-16">Why Molten?</h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
        <div class="flex gap-4">
          <div class="text-4xl">ðŸ“š</div>
          <div>
            <h3 class="text-xl font-bold mb-2">Comprehensive Glass Catalog</h3>
            <p class="text-gray-600">
              Browse over 1,000 types of glass from 20+ manufacturers with full COE coverage and detailed product information.
            </p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="text-4xl">ðŸ“¦</div>
          <div>
            <h3 class="text-xl font-bold mb-2">Smart Inventory Tracking</h3>
            <p class="text-gray-600">
              Track multiple inventory types (rods, frit, sheet, tubes) with exact storage locations and precise quantities.
            </p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="text-4xl">ðŸ›’</div>
          <div>
            <h3 class="text-xl font-bold mb-2">Intelligent Shopping Lists</h3>
            <p class="text-gray-600">
              Organize shopping by store, specify quantities, mark priorities, and auto-transfer checked items to inventory.
            </p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="text-4xl">ðŸ’°</div>
          <div>
            <h3 class="text-xl font-bold mb-2">Purchase History & Records</h3>
            <p class="text-gray-600">
              Maintain detailed purchase records with vendor tracking, pricing, and tax documentation for deductions.
            </p>
          </div>
        </div>

        <div class="flex gap-4">
          <div class="text-4xl">ðŸŽ¨</div>
          <div>
            <h3 class="text-xl font-bold mb-2">Project Planning & Logging</h3>
            <p class="text-gray-600">
              Document your creative journey with project notes, photos, glass usage tracking, and lessons learned.
            </p>
          </div>
        </div>
      </div>

      <div class="text-center mt-12">
        <a href="/features" class="gradient-orange text-white px-8 py-4 rounded-lg font-bold text-lg inline-block hover:opacity-90 transition">
          Explore All Features â†’
        </a>
      </div>
    </div>
  </section>

  <!-- Privacy First -->
  <section class="py-20 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div class="text-5xl mb-6">ðŸ”’</div>
      <h2 class="text-4xl font-bold mb-8">Privacy First</h2>
      <p class="text-xl text-gray-700 mb-8">
        Your creative work and inventory data stays in your control. No tracking, no data mining, no third parties, no unauthorized sharing.
      </p>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-20 gradient-orange text-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-4xl font-bold mb-6">Ready to Transform Your Studio?</h2>
      <p class="text-xl mb-8 text-white/90">
        Molten is designed for professional glass artists who need precise inventory control. Whether you're managing
        a studio inventory or your personal collection, Molten brings order to your creative chaos.
      </p>
      <a href="https://apps.apple.com/app/molten"
         class="bg-white text-orange-500 px-8 py-4 rounded-lg font-bold text-lg inline-block hover:bg-gray-100 transition">
        Download Now
      </a>
    </div>
  </section>
</Layout>
